/* 引入 Roboto 字体 (虽然也在 HTML 中链接了，但 CSS 中 @import 是备用或补充) */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

/* 基本重置和全局样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    font-family: 'Roboto', sans-serif; /* 应用 Roboto 字体 */
    background-color: #2B2B2B !important; /* 深灰色背景 (Android Studio 风格) - 使用 !important 覆盖 Bootstrap */
    color: #BBBBBB !important; /* 浅灰色文字 (Android Studio 风格) - 使用 !important 覆盖 Bootstrap */
    display: flex;
    align-items: center; /* 垂直居中内容 */
    padding-top: 5rem; /* 增加顶部留白，为 API Key 区域腾出空间 */
    padding-bottom: 2rem; /* 底部留白 */
    position: relative; /* 为绝对定位的 API Key 区域提供参照 */
}

/* 新增/修改: API Key 输入区域样式 */
#api-key-section {
    position: absolute; /* 使用绝对定位 */
    top: 10px;          /* 距离视口顶部 10px */
    right: 15px;         /* 距离视口右侧 15px */
    z-index: 1050;       /* 确保在大多数内容之上，但低于模态框背景 */
    padding: 0.5rem 0.8rem; /* 调整内边距 */
    background-color: rgba(43, 43, 43, 0.85); /* 更深的半透明背景 */
    border-radius: 6px;  /* 圆角 */
    display: flex;       /* 使用 Flexbox 布局内部元素 */
    align-items: center; /* 垂直居中对齐 */
    gap: 0.5rem;         /* 元素之间的间距 */
    border: 1px solid rgba(255, 255, 255, 0.1); /* 添加细边框 */
    backdrop-filter: blur(2px); /* 轻微毛玻璃效果 (现代浏览器支持) */
}

.api-key-label {
    font-size: 0.75em; /* 稍小字体 */
    color: #DDDDDD; /* 标签文字颜色 */
    white-space: nowrap; /* 防止标签换行 */
    margin-bottom: 0; /* 移除可能存在的下外边距 */
}

.api-key-input {
    background-color: #2B2B2B !important; /* 输入框背景 */
    color: #BBBBBB !important; /* 输入框文字颜色 */
    border: 1px solid rgba(255, 255, 255, 0.2) !important; /* 边框颜色稍亮 */
    max-width: 220px; /* 可以适当调整宽度 */
    height: calc(1.5em + 0.5rem + 2px); /* 调整高度以匹配按钮 */
    padding: 0.25rem 0.5rem; /* 调整内边距 */
    font-size: 0.75rem; /* 调整字体大小 */
}
.api-key-input::placeholder { /* 优化占位符颜色 */
    color: #888888;
    opacity: 1;
}


#api-key-section .form-check {
    padding-left: 0; /* 移除默认左内边距 */
    margin-bottom: 0; /* 移除默认下外边距 */
    display: flex; /* 让复选框和标签水平排列 */
    align-items: center;
}
#api-key-section .form-check-input {
     margin-top: 0; /* 确保复选框垂直居中 */
     margin-left: 0; /* 移除可能的左外边距 */
     margin-right: 0.3em; /* 复选框和标签文字间距 */
     border-color: rgba(255, 255, 255, 0.3);
     flex-shrink: 0; /* 防止复选框被压缩 */
}
#api-key-section .form-check-label {
     padding-left: 0; /* 移除内边距，因为间距由 input 的 margin-right 控制 */
     line-height: 1; /* 确保文字垂直居中 */
}

.api-key-button {
    font-size: 0.75rem !important;
    padding: 0.25rem 0.6rem !important; /* 调整按钮内边距 */
    white-space: nowrap; /* 防止按钮文字换行 */
}
#btn-set-api-key {
     background-color: #4A90E2 !important;
     border-color: #4A90E2 !important;
     color: white !important;
}
#btn-set-api-key:hover {
     background-color: #3A80D2 !important;
     border-color: #3A80D2 !important;
}
#btn-clear-api-key {
     color: #BBBBBB !important;
     border-color: #6c757d !important;
     background-color: transparent; /* 清除按钮背景透明 */
}
#btn-clear-api-key:hover {
     background-color: rgba(108, 117, 125, 0.5) !important; /* 悬停时半透明背景 */
     color: white !important;
}


/* 内容包裹器 */
#wrapper {
    max-width: 650px; /* 限制最大宽度 */
    width: 90%; /* 在小屏幕上占 90% 宽度 */
    background-color: #3C3F41; /* 稍浅的深灰色卡片背景 (Android Studio 风格) */
    padding: 1.5em; /* 内边距 */
    border-radius: 8px; /* 轻微圆角 */
    margin: auto; /* 水平居中 */
    text-align: center; /* 内部元素居中 */
    margin-top: 1rem; /* 增加一点上外边距, 确保在 API Key 下方 */
    position: relative; /* 确保在 API Key 区域下方 */
    z-index: 1;
}

/* 标题样式 */
#wrapper h2 {
    font-weight: 700; /* 粗体标题 */
    margin-bottom: 1.5rem; /* 标题下方间距 */
    opacity: 0.9; /* 轻微透明度 */
}

/* 主内容区域 */
#wrapper main {
    padding: 1em 0; /* 上下内边距 */
}

/* 按钮通用样式 */
.action-button {
    background-color: #4A90E2 !important; /* 蓝色背景 (Android Studio 风格) - 覆盖 Bootstrap */
    color: #FFFFFF !important; /* 白色文字 - 覆盖 Bootstrap */
    border: none !important; /* 无边框 */
    border-radius: 4px !important; /* 轻微圆角 */
    padding: 0.8em 1.5em !important; /* 按钮内边距 */
    font-weight: 500 !important; /* 中等字重 */
    cursor: pointer;
    transition: background-color 0.2s ease; /* 平滑过渡效果 */
    display: inline-block; /* 使按钮可以设置宽度 */
    width: 80%; /* 设置按钮宽度 */
    margin-bottom: 1rem; /* 按钮下方间距 */
    text-align: center;
}

.action-button:hover {
    background-color: #3A80D2 !important; /* 悬停时颜色变深 */
}

.action-button i {
    margin-right: 0.5em; /* 图标和文字间距 */
}

.action-button hr {
    border-top: 1px solid rgba(255, 255, 255, 0.3); /* 分隔线样式 */
    margin: 0.5em 0;
}

/* 开始按钮下的设置/计时器区域 */
#div-settings,
#div-timer {
    font-size: 0.8em; /* 稍小字号 */
    opacity: 0.8; /* 轻微透明度 */
    margin-top: 0.5em;
}

/* 停止按钮 (初始隐藏由 HTML style 控制) */
/* #btn-stop { display: none; } */ /* CSS 中无需重复，HTML 中已设置 */

/* 隐藏的 iframe 容器 */
#div-bing {
    display: none !important;
    width: 0px !important;
    height: 0px !important;
}

/* 页脚样式 */
footer {
    margin-top: 2rem; /* 页脚上方间距 */
    font-size: 0.8em; /* 页脚字体稍小 */
    opacity: 0.7; /* 页脚整体透明度 */
}

footer a {
    color: #8ab4f8 !important; /* 调整链接颜色以匹配深色主题 */
    text-decoration: none;
}

footer a:hover {
    text-decoration: underline;
}

/* 弹出框样式调整 */
#modal-help .modal-content {
    background-color: #3C3F41; /* 弹出框背景 (匹配卡片) */
    color: #BBBBBB; /* 弹出框文字颜色 */
    border-radius: 8px;
}

#modal-help .modal-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* 头部边框颜色 */
}

#modal-help .modal-title {
    color: #FFFFFF; /* 弹出框标题颜色 */
    font-weight: 600;
}

#modal-help .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%); /* 使关闭按钮在深色背景上可见 */
}

/* #modal-help .modal-body { */ /* <--- 移除了这个空规则集 */
    /* 可以根据需要调整 body 内边距 */
/* } */

#modal-help h6 strong.text-muted {
    color: #9e9e9e !important; /* 调整 muted 文本颜色 */
}

/* 调整弹出框内警告框样式 */
#modal-help .alert {
     border-radius: 4px;
     margin-bottom: 1rem;
}

#modal-help .alert-danger {
    background-color: rgba(220, 53, 69, 0.1); /* 警告框背景色 */
    border-color: rgba(220, 53, 69, 0.3);
    color: #f8d7da; /* 警告框文字颜色 */
}
#modal-help .alert-danger strong.text-danger {
     color: #f5c6cb !important; /* 调整警告框中强调文字颜色 */
}
#modal-help .alert-danger a.alert-link {
    color: #f5c6cb; /* 调整警告框中链接颜色 */
    text-decoration: underline;
}
#modal-help .alert-warning { /* 新增 API Key 提示框样式 */
    background-color: rgba(255, 193, 7, 0.1);
    border-color: rgba(255, 193, 7, 0.3);
    color: #ffeeba;
}
#modal-help .alert-warning a.alert-link {
    color: #ffeeba;
    font-weight: bold;
}


#modal-help ol li {
    padding: 0.3em 0;
}

#modal-help .form-select {
    background-color: #2B2B2B; /* 下拉框背景 */
    color: #BBBBBB; /* 下拉框文字颜色 */
    border: 1px solid rgba(255, 255, 255, 0.1); /* 下拉框边框 */
}

#modal-help .form-select option {
     background-color: #3C3F41; /* 下拉选项背景 */
     color: #BBBBBB;
}

#modal-help .modal-footer {
    border-top: 1px solid rgba(255, 255, 255, 0.1); /* 底部边框颜色 */
}

/* 确保按钮在 Modal 中样式正确 */
#modal-help .modal-footer .btn-secondary {
    background-color: #6c757d !important;
    border-color: #6c757d !important;
    color: white !important;
}
#modal-help .modal-footer .btn-secondary:hover {
    background-color: #5a6268 !important;
    border-color: #545b62 !important;
}